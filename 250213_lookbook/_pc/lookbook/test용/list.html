<!--@layout(/layout/basic/list.html)-->
<div class="lookbook-board">
  <div module="Board_ListPackage_8">
    <!--@css(/css/module/board/gallary_4grid_board.css)-->

    <style>
      /* .lookbook-board .list > li:nth-child(n + 5) {
        display: none;
      }
      .active-show {
        display: block !important;
      } */
    </style>
    <div module="board_title_8">
      <div class="path">
        <span>현재 위치</span>
        <ol>
          <li><a href="/">홈</a></li>
          <li><a href="/board/index.html">게시판</a></li>
          <li title="현재 위치"><strong>{$board_name}</strong></li>
        </ol>
      </div>

      <div class="titleArea">
        <h2>{$board_title|striptag} {$board_adult_icon}</h2>
        <p>{$board_info}</p>
      </div>
      <p class="imgArea">{$board_top_image}</p>
    </div>

    <div class="boardSort">
      <span module="board_category_3">{$form.board_category}</span>
    </div>

    <!-- <ul module="board_listheader_3">
          <li><a class="btnNormal {$list_type_display|display}" href="/board/gallery/list.html{$param_list}"><img src="//img.echosting.cafe24.com/skin/base/common/btn_icon_type_image.gif" alt="" /> 이미지형</a></li>
          <li><a class="btnNormal {$list_type_display|display}" href="/board/gallery/list2.html{$param_list}"><img src="//img.echosting.cafe24.com/skin/base/common/btn_icon_type_list.gif" alt="" /> 리스트형</a></li>
      </ul> -->

    <div module="board_notice_3">
      <!--
              $login_page_url = /member/login.html
              $deny_access_url = /index.html
          -->
      <ul class="list">
        <li>
          <div class="thumb">
            <a href="{$link_board_detail}"
              ><img
                src="{$img_src}"
                onerror="this.src='//img.echosting.cafe24.com/thumb/198x198.gif'"
                alt=""
            /></a>
          </div>
          <div class="subject">
            {$checkbox}<a href="{$link_board_detail}">
              {$notice_icon} {$subject}</a
            >
          </div>
        </li>
        <li>
          <div class="thumb">
            <a href="{$link_board_detail}"
              ><img
                src="{$img_src}"
                onerror="this.src='//img.echosting.cafe24.com/thumb/198x198.gif'"
                alt=""
            /></a>
          </div>
          <div class="subject">
            {$checkbox}<a href="{$link_board_detail}">
              {$notice_icon} {$subject}</a
            >
          </div>
        </li>
      </ul>
    </div>
    <div module="board_fixed_3">
      <!--
              $login_page_url = /member/login.html
              $deny_access_url = /index.html
          -->
      <ul class="list lookbook-board-list">
        <li>
          <div class="thumb">
            <a href="{$link_board_detail}"
              ><img
                src="{$img_src}"
                onerror="this.src='//img.echosting.cafe24.com/thumb/198x198.gif'"
                alt=""
            /></a>
          </div>
          <div class="subject">
            {$checkbox}<a href="{$link_board_detail}">
              {$fixed_icon} {$subject}</a
            >
          </div>
        </li>
        <li>
          <div class="thumb">
            <a href="{$link_board_detail}"
              ><img
                src="{$img_src}"
                onerror="this.src='//img.echosting.cafe24.com/thumb/198x198.gif'"
                alt=""
            /></a>
          </div>
          <div class="subject">
            {$checkbox}<a href="{$link_board_detail}">
              {$fixed_icon} {$subject}</a
            >
          </div>
        </li>
      </ul>
    </div>

    <div module="board_list_3">
      <!--
              $count = 12
              $login_page_url = /member/login.html
              $deny_access_url = /index.html
          -->
      <ul class="list board">
        <li>
          <div class="thumb">
            <a href="{$link_board_detail}"
              ><img
                src="{$img_src}"
                onerror="this.src='//img.echosting.cafe24.com/thumb/198x198.gif'"
                alt=""
            /></a>
          </div>
          <div class="subject">
            {$checkbox}<a href="{$link_board_detail}">{$subject}</a>
          </div>
        </li>
        <li>
          <div class="thumb">
            <a href="{$link_board_detail}"
              ><img
                src="{$img_src}"
                onerror="this.src='//img.echosting.cafe24.com/thumb/198x198.gif'"
                alt=""
            /></a>
          </div>
          <div class="subject">
            {$checkbox}<a href="{$link_board_detail}">{$subject}</a>
          </div>
        </li>
      </ul>
    </div>
    <div class="boardListEmpty {$empty_display|display}" module="board_empty_3">
      <p>{$empty_message}</p>
    </div>

    <!--
      <div module="board_ButtonList_8" class="{$write_display|display} ec-base-button typeBG">
          <span class="gRight">
              <a href="/board/gallery/write.html{$param_write}" class="btnSubmitFix sizeS {$write_display|display}">글쓰기</a>
          </span>
      </div>
      -->
  </div>

  <!-- 
  <div module="board_paging_8" class="ec-base-paginate">
      <a href="{$param_prev}"><img src="//img.echosting.cafe24.com/skin/base/common/btn_page_prev.gif" alt="이전 페이지" /></a>
      <ol>
          <li><a href="{$param_num}" class="{$param_class}">{$page_num}</a></li>
          <li><a href="{$param_num}" class="{$param_class}">{$page_num}</a></li>
      </ol>
      <a href="{$param_next}"><img src="//img.echosting.cafe24.com/skin/base/common/btn_page_next.gif" alt="다음 페이지" /></a>
  </div>
-->
  <!--  
  <div module="board_search_8">
      @css(/css/module/board/search.css)
      <fieldset class="boardSearch">
          <legend>게시물 검색</legend>
          <p>{$form.search_date} {$form.search_key} {$form.search} <a href="#none" class="btnEmFix" onclick="{$action_search}">찾기</a></p>
      </fieldset>
  </div>
  -->

  <!-- 관리자 전용 메뉴 -->
  <div module="board_catemove_8">
    <!--@css(/css/module/board/catemove.css)-->
    <p>
      {$board_catemove_selectbox}
      <a href="#none" class="btnNormal" onclick="{$action_category_move}"
        ><img
          src="//img.echosting.cafe24.com/skin/base/common/btn_icon_move.gif"
          alt=""
        />
        {$category_move}</a
      >
    </p>
  </div>

  <div module="board_function_8">
    <!--@css(/css/module/board/function.css)-->
    <p>
      {$board_function_selectbox}
      <a href="#none" class="btnNormal" onclick="{$action_article_move}"
        ><img
          src="//img.echosting.cafe24.com/skin/base/common/btn_icon_move.gif"
          alt=""
        />
        {$article_move}</a
      >
      <a href="#none" class="btnNormal" onclick="{$action_article_copy}"
        ><img
          src="//img.echosting.cafe24.com/skin/base/common/btn_icon_copy.gif"
          alt=""
        />
        {$article_copy}</a
      >
      {$board_function_help}
    </p>
  </div>
</div>
<!-- // 관리자 전용 메뉴 -->
<!-- <script>
  // 빈 리스트 선택
  const listElem = document.querySelector(".lookbook-board-list")

  // 20개의 아이템 추가 함수
  let nextItem = 1

  const loadMore = function () {
    for (let i = 0; i < 4; i++) {
      let item = document.createElement("li")
      item.innerText = "List Item #" + nextItem++
      listElm.appendChild(item)
    }
  }

  // ul 리스트 바닥까지 스크롤 했는지 확인
  listElm.addEventListener("scroll", function () {
    if (listElm.scrollTop + listElm.clientHeight >= listElm.scrollHeight) {
      loadMore()
    }
  })

  // 아이템 20개씩 더 가져오는 loadMore함수 실행
  loadMore()
</script> -->
<!-- <script>
  const lookbookList = document.querySelectorAll(
    ".lookbook-board .xans-record-"
  )

  console.log(lookbookList)

  // if (lookbookList.length !== 0) {
  // 각 scrollArea에 대한 observer
  // const handleScrollAreaVisibility = (entries) => {
  //   entries.forEach((entry) => {
  //     // if (!entry.isIntersecting) {
  //     //   lookbookList.forEach((item) => item.classList.remove("active-show"))
  //     // }
  //   })
  // }

  // const scrollAreaObserver = new IntersectionObserver(
  //   handleScrollAreaVisibility,
  //   {
  //     threshold: 0,
  //   }
  // )

  // lookbookList.forEach((list) =>{
  //   scrollAreaObserver.observe(scrollArea)
  // })

  console.log("object")
  // 각 item에 대한 observer
  const handleItemInView = (entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        console.log(entry, "entray")
        entry.target.classList.add("active-show")
        entry.target.style.display = "block"
      }
    })
  }

  const itemObserver = new IntersectionObserver(handleItemInView, {
    threshold: 0.5,
  })

  lookbookList.forEach((list) => {
    itemObserver.observe(list)
    console.log(list, "observe")
    // const delay = item.dataset.aniDelay
    // if (delay !== undefined) {
    //   item.style.transitionDelay = `${delay}s`
    // }
    // const duration = item.dataset.aniDuration
    // if (duration !== undefined) {
    //   item.style.transitionDuration = `${duration}s`
    // }
  })
  // }
</script> -->
